{"ast":null,"code":"var _jsxFileName = \"/Users/nataschakempfe/Desktop/CEN3031/teach-leave-live/teach-leave-live/client/src/components/AuthButton.js\";\nimport React from \"react\";\n/* Import bootstrap components */\n\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Button from \"react-bootstrap/Button\";\n/* Import firebase app and products */\n\nimport { auth, provider, db } from \"../firebase/firebase\";\n\nconst AuthButton = props => {\n  //Event handler to log the user in with Firebase auth()\n  const handleLogin = () => {\n    //Sign into Firestore with the facebook auth provider\n    auth().signInWithPopup(provider).then(retUser => {\n      // console.log(retUser.additionalUserInfo.profile.name);\n      // console.log(retUser.user.uid);\n      console.log(retUser);\n      props.updateUser(retUser); //Update the user document with the most recent sign-in information (info from fb)\n\n      let userDoc = db.collection('users').doc(retUser.user.uid);\n      let setUserDoc = userDoc.set({\n        firstName: retUser.additionalUserInfo.profile.first_name,\n        lastName: retUser.additionalUserInfo.profile.last_name,\n        email: retUser.additionalUserInfo.profile.email,\n        picURL: retUser.additionalUserInfo.profile.picture.data.url\n      });\n    });\n  }; //Event handler to sign the user out with Firebase auth()\n\n\n  const logout = () => {\n    auth().signOut().then(() => {\n      props.updateUser(null);\n    });\n  }; //Conditional return statements based on whether user is signed in\n\n\n  if (props.user != null) {\n    //User is Logged in\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(DropdownButton, {\n      title: props.user.displayName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Dropdown.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Profile\"), React.createElement(Dropdown.Item, {\n      onClick: logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Logout\")));\n  } else {\n    //User is not logged in\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      onClick: handleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Facebook Sign-In\"));\n  }\n};\n\nexport default AuthButton;","map":{"version":3,"sources":["/Users/nataschakempfe/Desktop/CEN3031/teach-leave-live/teach-leave-live/client/src/components/AuthButton.js"],"names":["React","Dropdown","DropdownButton","Button","auth","provider","db","AuthButton","props","handleLogin","signInWithPopup","then","retUser","console","log","updateUser","userDoc","collection","doc","user","uid","setUserDoc","set","firstName","additionalUserInfo","profile","first_name","lastName","last_name","email","picURL","picture","data","url","logout","signOut","displayName"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA;;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AAEA;;AACA,SAAQC,IAAR,EAAcC,QAAd,EAAwBC,EAAxB,QAAiC,sBAAjC;;AAGA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAE1B;AACA,QAAMC,WAAW,GAAG,MAAM;AACtB;AACAL,IAAAA,IAAI,GAAGM,eAAP,CAAuBL,QAAvB,EAAiCM,IAAjC,CAAuCC,OAAD,IAAa;AAE/C;AACA;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACAJ,MAAAA,KAAK,CAACO,UAAN,CAAiBH,OAAjB,EAL+C,CAO/C;;AACA,UAAII,OAAO,GAAGV,EAAE,CAACW,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BN,OAAO,CAACO,IAAR,CAAaC,GAAxC,CAAd;AACA,UAAIC,UAAU,GAAGL,OAAO,CAACM,GAAR,CAAY;AACzBC,QAAAA,SAAS,EAAGX,OAAO,CAACY,kBAAR,CAA2BC,OAA3B,CAAmCC,UADtB;AAEzBC,QAAAA,QAAQ,EAAGf,OAAO,CAACY,kBAAR,CAA2BC,OAA3B,CAAmCG,SAFrB;AAGzBC,QAAAA,KAAK,EAAGjB,OAAO,CAACY,kBAAR,CAA2BC,OAA3B,CAAmCI,KAHlB;AAIzBC,QAAAA,MAAM,EAAGlB,OAAO,CAACY,kBAAR,CAA2BC,OAA3B,CAAmCM,OAAnC,CAA2CC,IAA3C,CAAgDC;AAJhC,OAAZ,CAAjB;AAMH,KAfD;AAgBH,GAlBD,CAH0B,CAuB1B;;;AACA,QAAMC,MAAM,GAAG,MAAM;AACjB9B,IAAAA,IAAI,GAAG+B,OAAP,GAAiBxB,IAAjB,CAAsB,MAAM;AACxBH,MAAAA,KAAK,CAACO,UAAN,CAAiB,IAAjB;AACH,KAFD;AAIH,GALD,CAxB0B,CA+B1B;;;AACA,MAAGP,KAAK,CAACW,IAAN,IAAc,IAAjB,EAAsB;AAElB;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAgB,MAAA,KAAK,EAAEX,KAAK,CAACW,IAAN,CAAWiB,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD,CAAU,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI,oBAAC,QAAD,CAAU,IAAV;AAAe,MAAA,OAAO,EAAEF,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CADJ,CADJ;AAQH,GAXD,MAYI;AACA;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,OAAO,EAAEzB,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CADJ;AAKH;AAEJ,CArDD;;AAsDA,eAAeF,UAAf","sourcesContent":["import React from \"react\";\n\n/* Import bootstrap components */\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Button from \"react-bootstrap/Button\";\n\n/* Import firebase app and products */\nimport {auth, provider, db} from \"../firebase/firebase\";\n\n\nconst AuthButton = (props) => {\n\n    //Event handler to log the user in with Firebase auth()\n    const handleLogin = () => {\n        //Sign into Firestore with the facebook auth provider\n        auth().signInWithPopup(provider).then((retUser) => {\n\n            // console.log(retUser.additionalUserInfo.profile.name);\n            // console.log(retUser.user.uid);\n            console.log(retUser);\n            props.updateUser(retUser);\n\n            //Update the user document with the most recent sign-in information (info from fb)\n            let userDoc = db.collection('users').doc(retUser.user.uid);\n            let setUserDoc = userDoc.set({\n                firstName : retUser.additionalUserInfo.profile.first_name,\n                lastName : retUser.additionalUserInfo.profile.last_name,\n                email : retUser.additionalUserInfo.profile.email,\n                picURL : retUser.additionalUserInfo.profile.picture.data.url\n            });\n        });\n    };\n\n    //Event handler to sign the user out with Firebase auth()\n    const logout = () => {\n        auth().signOut().then(() => {\n            props.updateUser(null);\n        })\n\n    };\n\n    //Conditional return statements based on whether user is signed in\n    if(props.user != null){\n\n        //User is Logged in\n        return(\n            <div>\n                <DropdownButton title={props.user.displayName}>\n                    <Dropdown.Item>Profile</Dropdown.Item>\n                    <Dropdown.Item onClick={logout}>Logout</Dropdown.Item>\n                </DropdownButton>\n            </div>\n        )\n    }\n    else{\n        //User is not logged in\n        return (\n            <div>\n                <Button variant=\"primary\" onClick={handleLogin}>Facebook Sign-In</Button>\n            </div>\n        )\n    }\n\n};\nexport default AuthButton;\n"]},"metadata":{},"sourceType":"module"}